<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accelerador</title>
</head>
<body>
    <h1 id="Accelerador" class="titulo">Acelerador</h1>
    <p>En esta demo he intentado simular como una particula se accelera cuando pulsas una tecla,
     al igual que haria un coche cuando apretas el acelerador, y cuando sueltas esa tecla, la particula 
     se frena debido al rozamiento.</p>
    <editor-container style="display:block;margin:auto;width:700px;"><math-type style="user-select:text;" class=" math-type-for-print "><math-edit-container><editarea ><area-baseline aria-hidden="true">a</area-baseline><area-container><line class="root text-mode align-center" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><emptyblock aria-label="empty line"> </emptyblock></blocks></line><line class="root text-mode selected full-line-block-inside" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-diagram role-diagram-selected role-prevent-selection inline" aria-label="Diagram" role="img"><math-diagram aria-hidden="true" data-amt="diagram" style="height: 139px; z-index: 1;"><clip-region style="width: 100%; height: 100%; display: block; overflow: hidden; position: relative;"><zoom-region><svg><g><defs><pattern id=".5988248190907066" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="lightgray" stroke-width="0.5"></path></pattern></defs><rect width="100%" height="100%" fill="url(#.5988248190907066)" stroke="lightgray" stroke-width="0.5"></rect></g></svg><div class="diagram-plotly-layer" style="position: absolute; inset: 0px; pointer-events: none; fill: none; stroke: none;"><svg style="overflow:visible;position:absolute;left:0;top:0;"></svg></div><svg class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M21,101.13 L404,101.13" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path></g><g class="composite-shape"><path class="real" d=" M118.88,60.56 C118.88,37.61 137.48,19 160.44,19 C183.39,19 202,37.61 202,60.56 C202,83.52 183.39,102.13 160.44,102.13 C137.48,102.13 118.88,83.52 118.88,60.56 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none; fill-opacity: 1;"></path></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M160.44,60.56 L268,61.11" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(-0.9999871908648437,-0.005061433219811659,0.005061433219811659,-0.9999871908648437,270.00000000000006,61.125)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M160.44,60.56 L83,61.11" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path><g stroke="#000" transform="matrix(0.9999743970151198,-0.007155788862699763,0.007155788862699763,0.9999743970151198,81,61.125)" style="stroke: rgb(0, 0, 0); stroke-width: 1;"><path d=" M10.93,-3.29 Q4.96,-0.45 0,0 Q4.96,0.45 10.93,3.29"></path></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M161,53.13 L161,67.13" style="stroke: rgb(0, 0, 0); stroke-width: 1; fill: none; fill-opacity: 1;"></path></g><g></g></g><g></g><g></g><g></g></svg><diagram-editors><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 200px; top: 29px;"><dg-editor-container data-editor-id="de09062301702204789" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 15px; font-family: Arial, Helvetica, sans-serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;"><editarea class="math-mode-font lazyable no-area-container" style="font-family: Asana-Math, Asana;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="over-arrow-symbol ig-ex-br"><arrow-symbol style="height: 0.588235em; margin-bottom: -0.235294em;"><svg style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%;"><path d=" M 60.14 5.39 l -3.50 -3.69 l -0.54 0.58 l 2.14 2.58 h -0.17 v 1.00 h 0.17 l -2.14 2.58 l 0.54 0.58 z  M 1.87 5.81 h 57.76 v -1.00 h -57.76 z" stroke="none"></path></svg></arrow-symbol><editarea class="no-area-container"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">F</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.747899em;"><baselineblock></baselineblock><block>acelerador</block></editarea-line></compositeblock></line></editarea></compositeblock></line></editarea></compositeblock></blocks></line></editarea></dg-editor-container></position-container><position-container data-rotation="0" data-skewx="0" data-flipx="false" data-anchor="left-top" style="left: 85px; top: 29px;"><dg-editor-container data-editor-id="de3222933991044974" class="no-border-on-print text-diagram-editor" style="border: 1px solid transparent; transform: translate(0%, 0%); font-size: 15px; font-family: Arial, Helvetica, sans-serif; font-weight: normal; font-style: normal;"><editarea class="diagram-editor non-wrap no-area-container text-mode" style="font-size: 1em;"><line class="text-mode" style="line-height: 1.4;"><prefix></prefix><blocks><baselineblock class="inline"></baselineblock><compositeblock dir="ltr" class="math-container-symbol role-mathmode-area inline" style="font-size: 17px;"><editarea class="math-mode-font lazyable no-area-container" style="font-family: Asana-Math, Asana;"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><compositeblock dir="ltr" class="over-arrow-symbol ig-ex-br"><arrow-symbol style="height: 0.588235em; margin-bottom: -0.235294em;"><svg style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%;"><path d=" M 65.21 5.39 l -3.50 -3.69 l -0.54 0.58 l 2.14 2.58 h -0.17 v 1.00 h 0.17 l -2.14 2.58 l 0.54 0.58 z  M 1.87 5.81 h 62.83 v -1.00 h -62.83 z" stroke="none"></path></svg></arrow-symbol><editarea class="no-area-container"><line class="" style="line-height: 1.2;"><baselineblock></baselineblock><block class="Normal">F</block><compositeblock dir="ltr" class="power-index-symbol-container inline"><middle-base><inline></inline></middle-base><editarea-line class=" index-value" style="line-height: 1.2; margin-top: -0.747899em;"><baselineblock></baselineblock><block>rozamiento</block></editarea-line></compositeblock></line></editarea></compositeblock></line></editarea></compositeblock></blocks></line></editarea></dg-editor-container></position-container></diagram-editors></zoom-region><svg style="position: absolute; width: 100%; height: 100%; overflow: visible; left: 0px; top: 0px; pointer-events: none;"></svg></clip-region></math-diagram></compositeblock></blocks></line></area-container></editarea><div></div></math-edit-container></math-type></editor-container>
    <p>En la demo la fuerza de rozamiento es proporcional a la velocidad, 
    y en mi caso solo la aplico cuando no hay ninguna tecla pulsada, es decir, 
    cuando no pisas el accelerador. La tecla que he elegido como accelerador es la tecla W</p>
    <pre><code><span class="hljs-keyword">PVector</span> calculateAcceleration(<span class="hljs-keyword">PVector</span> s, <span class="hljs-keyword">PVector</span> v)
        {
            <span class="hljs-keyword">PVector</span> Facelerador = <span class="hljs-keyword">new</span> <span class="hljs-keyword">PVector</span>(<span class="hljs-number">0.0</span>,<span class="hljs-number">0.0</span>);
            <span class="hljs-keyword">PVector</span> Froz = <span class="hljs-keyword">new</span> <span class="hljs-keyword">PVector</span>(<span class="hljs-number">0.0</span>,<span class="hljs-number">0.0</span>);
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">keyPressed</span>)
            {
                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">key</span> == <span class="hljs-string">'w'</span> || <span class="hljs-built_in">key</span> == <span class="hljs-string">'W'</span>)
                {
                    <span class="hljs-keyword">PVector</span> normal_aceleracor = <span class="hljs-keyword">new</span> <span class="hljs-keyword">PVector</span>(<span class="hljs-number">1.0</span>,<span class="hljs-number">0.0</span>);
                    normal_aceleracor.normalize();
                    Facelerador = <span class="hljs-keyword">PVector</span>.mult(normal_aceleracor,acelerador);
                }
            } <span class="hljs-keyword">else</span> {
                Froz = <span class="hljs-keyword">PVector</span>.mult(v,-K);
                <span class="hljs-built_in">println</span>(Froz);
            }
        
            <span class="hljs-keyword">PVector</span> SumF  = <span class="hljs-keyword">PVector</span>.<span class="hljs-built_in">add</span>(Froz, Facelerador);
        
            <span class="hljs-keyword">PVector</span> a = SumF.div(M);
        
          <span class="hljs-keyword">return</span> a;
        
        }
    </code></pre>
    <h5>Resultado Final</h5>
    <div class="d-flex justify-content-center">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/I56ai5UpXQ8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
    </div>
</body>
</html>